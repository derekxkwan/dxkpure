#N canvas 816 183 1017 734 12;
#X obj 114 507 *~ 0.5;
#X obj 117 560 cos~;
#X obj 106 392 clip~ 0 1;
#X obj 108 441 +~ 0.5;
#X obj 108 466 wrap~;
#X obj 103 298 +~ 0.5;
#X obj 103 323 wrap~;
#X obj 114 532 -~ 0.25;
#X obj 334 317 *;
#X obj 334 342 t b f;
#X msg 334 367 500;
#X obj 334 392 /;
#X obj 110 362 *~ 1;
#X text 550 137 SOLN: use the 1/2 of a sine wave to window;
#X text 596 161 and pause in the middle.;
#X text 599 113 where the loop is driven by a 0-1 phasor~;
#X text 552 92 GOAL: an x ms ramp at the ends of a loop window;
#X text 557 222 - add 0.5 => 0-1 becomes 0.5-1 and 0-0.5;
#X text 559 198 - pausing in the middle of ramp = pause at 0.5;
#X text 559 244 - clip at 1 and mult by y to reach 1 faster;
#X text 576 264 (and pause) in the middle of the ramp;
#X text 556 323 - add 0.5 => 0-1 becomes 0.5-1 and 0-0.5;
#X text 558 345 - clip at 1 and mult by y to reach 1 faster;
#X text 575 365 (and pause) in the middle of the ramp;
#X text 558 299 - add 0.5 and rewrap to get pause at 0.5;
#X text 554 402 - use [cos~] for window;
#X text 552 427 - needs -0.25 to 0.25 range for window;
#X text 554 453 - so mult 0-1 range window by 0.5 and subtract 0.25
;
#X text 542 486 TO GET DESIRED MULTIPLIER Y:;
#X text 542 510 - multiplying at r Hz 0-1 phasor~ by y makes your ramp
;
#X text 557 532 get from 0 to y in 1/r secs or 1000/r msecs.;
#X text 542 556 - or 0 to 1/y in 1000/(r*y) msecs;
#X text 541 582 - due to the wrapping \, we're essentially chopping
the;
#X text 553 605 ramp in half so our ramps are actually x=500/(r*y)
ms;
#X text 540 632 - x ms = 500/(r*y) -> y = 500/(r*x);
#X obj 117 585 outlet~;
#X obj 284 165 inlet;
#X text 289 139 ms ramp;
#X obj 369 146 inlet;
#X obj 198 238 moses 1e-16;
#X msg 198 263 3;
#X obj 198 298 f;
#X obj 169 176 loadbang;
#X obj 177 208 f \$1;
#X obj 356 227 f \$2;
#X text 14 2 DKLOOPWIN~: signal-driven loop-windowing;
#X obj 359 273 t b f;
#X obj 97 178 inlet~;
#X text 381 125 incoming phasor rate;
#X text 86 140 incoming 0-1 phasor;
#X text 16 69 in1~: 0-1 phasor~ \, in2: ms ramp \, in3: incoming phasor
rate;
#X text 14 93 arg1: ramp time in ms \, arg2: incoming phasor rate;
#X text 799 6 Derek Kwan \, 2016;
#X text 874 27 gpl v3;
#X connect 0 0 7 0;
#X connect 1 0 35 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 1 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 1 11 1;
#X connect 10 0 11 0;
#X connect 11 0 12 1;
#X connect 12 0 2 0;
#X connect 36 0 41 0;
#X connect 38 0 44 0;
#X connect 39 0 40 0;
#X connect 39 1 41 0;
#X connect 40 0 41 0;
#X connect 41 0 8 0;
#X connect 42 0 43 0;
#X connect 42 0 44 0;
#X connect 43 0 39 0;
#X connect 44 0 46 0;
#X connect 46 0 8 0;
#X connect 46 1 8 1;
#X connect 47 0 5 0;
